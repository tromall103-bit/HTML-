<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Catch the Ball Game - Android Style</title>
<style>
  body {
    margin: 0;
    font-family: 'Roboto', sans-serif;
    background: linear-gradient(to bottom, #6a11cb, #2575fc);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    flex-direction: column;
  }

  #gameContainer {
    position: relative;
  }

  canvas {
    border-radius: 20px;
    background-color: #1e1e2f;
    box-shadow: 0 8px 20px rgba(0,0,0,0.4);
  }

  #score {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    color: #fff;
    font-size: 28px;
    font-weight: bold;
    text-shadow: 2px 2px 5px rgba(0,0,0,0.7);
    z-index: 2;
  }

  .control-buttons {
    margin-top: 15px;
    display: flex;
    gap: 20px;
    justify-content: center;
  }

  .control-buttons button {
    width: 80px;
    height: 50px;
    font-size: 24px;
    font-weight: bold;
    border: none;
    border-radius: 12px;
    background-color: #1dd1a1;
    color: #fff;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .control-buttons button:active {
    transform: scale(0.95);
    box-shadow: 0 3px 10px rgba(0,0,0,0.3);
  }

  #startBtn {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 180px;
    height: 60px;
    font-size: 26px;
    font-weight: bold;
    background-color: #ff6b6b;
    border: none;
    border-radius: 20px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.4);
    cursor: pointer;
    z-index: 3;
  }

  #startBtn:active {
    transform: translate(-50%, -50%) scale(0.95);
  }
</style>
</head>
<body>
<div id="gameContainer">
  <div id="score">Score: 0</div>
  <canvas id="gameCanvas" width="400" height="600"></canvas>
  <button id="startBtn">Start Game</button>
</div>

<div class="control-buttons">
  <button id="leftBtn">&lt;</button>
  <button id="rightBtn">&gt;</button>
</div>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

let score = 0;
let gameStarted = false;

// Platform (player) properties
const platform = {
  x: canvas.width / 2 - 50,
  y: canvas.height - 30,
  width: 100,
  height: 20,
  dx: 0,
  speed: 6
};

// Ball properties
let ball = {
  x: Math.random() * (canvas.width - 20) + 10,
  y: 0,
  radius: 15,
  dy: 3,
  color: '#ff4757'
};

// Button controls
let leftPressed = false;
let rightPressed = false;

document.getElementById('leftBtn').addEventListener('mousedown', () => leftPressed = true);
document.getElementById('leftBtn').addEventListener('mouseup', () => leftPressed = false);
document.getElementById('leftBtn').addEventListener('touchstart', e => { leftPressed = true; e.preventDefault(); });
document.getElementById('leftBtn').addEventListener('touchend', e => { leftPressed = false; e.preventDefault(); });

document.getElementById('rightBtn').addEventListener('mousedown', () => rightPressed = true);
document.getElementById('rightBtn').addEventListener('mouseup', () => rightPressed = false);
document.getElementById('rightBtn').addEventListener('touchstart', e => { rightPressed = true; e.preventDefault(); });
document.getElementById('rightBtn').addEventListener('touchend', e => { rightPressed = false; e.preventDefault(); });

// Start button
document.getElementById('startBtn').addEventListener('click', () => {
  gameStarted = true;
  document.getElementById('startBtn').style.display = 'none';
  update();
});

function drawPlatform() {
  ctx.fillStyle = '#1dd1a1';
  ctx.fillRect(platform.x, platform.y, platform.width, platform.height);
  ctx.shadowColor = '#1dd1a1';
  ctx.shadowBlur = 20;
}

function drawBall() {
  ctx.beginPath();
  ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
  ctx.fillStyle = ball.color;
  ctx.fill();
  ctx.shadowColor = ball.color;
  ctx.shadowBlur = 20;
  ctx.closePath();
}

function drawStartScreen() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = '#fff';
  ctx.font = '24px Roboto';
  ctx.textAlign = 'center';
  ctx.fillText('Click Start to Play', canvas.width/2, canvas.height/2 - 50);
}

function update() {
  if(!gameStarted) {
    drawStartScreen();
    return;
  }

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Move platform smoothly
  if(leftPressed) platform.dx = -platform.speed;
  else if(rightPressed) platform.dx = platform.speed;
  else platform.dx = 0;

  platform.x += platform.dx;
  if(platform.x < 0) platform.x = 0;
  if(platform.x + platform.width > canvas.width) platform.x = canvas.width - platform.width;

  // Move ball
  ball.y += ball.dy;

  // Collision detection
  if(ball.y + ball.radius > platform.y &&
     ball.x > platform.x &&
     ball.x < platform.x + platform.width) {
    score++;
    document.getElementById('score').innerText = 'Score: ' + score;
    resetBall();
  }

  // Reset if ball falls
  if(ball.y - ball.radius > canvas.height) {
    alert('Game Over! Your Score: ' + score);
    score = 0;
    document.getElementById('score').innerText = 'Score: ' + score;
    resetBall();
    gameStarted = false;
    document.getElementById('startBtn').style.display = 'block';
    drawStartScreen();
    return;
  }

  drawPlatform();
  drawBall();
  requestAnimationFrame(update);
}

function resetBall() {
  ball.x = Math.random() * (canvas.width - 20) + 10;
  ball.y = 0;
  ball.dy = 3 + Math.random() * 2; // speed variation
}

// Initial screen
drawStartScreen();
</script>
</body>
</html>